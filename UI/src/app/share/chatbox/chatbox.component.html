<div class="container">
<div class="row clearfix">
    <div class="col-lg-12">
        <div class="card chat-app ">
            <div id="plist" class="people-list" >
                <div>
                    <button type="button" class="btn btn-primary btn-lg"><a href="new-chat" style="color: white;">New chat</a></button>
                </div>
                <ul class="list-unstyled chat-list mt-2 mb-0" *ngFor="let chatbox of user_chatbox">
                    <li class="clearfix" style="border: 2px solid rgb(189, 189, 189);
                    border-radius: 5px; margin-top: 5px;" (click)="getAllMessageByChatboxId(chatbox.chatbox.id)">
                        <div class="about" >
                            <div class="name">{{chatbox.user.username}}</div>                                
                        </div>
                    </li>
                </ul>
            </div>
            <div class="chat">
                <div class="chat-header clearfix">
                    <div class="row">
                        <div class="col-lg-6">
                            <a href="javascript:void(0);" data-toggle="modal" data-target="#view_info">
                                <div class="chat-about">
                                    <h6 class="m-b-0">{{name_chatbox}}</h6>
                                </div>
                            </a>
                        </div>

                    </div>
                </div>
                <div class="chat-history">
                    <ul class="m-b-0" *ngFor="let message of messages">
                        <li class="clearfix" *ngIf="message.user.userId == currentUser.userId">
                            
                            <div class="message other-message float-right">{{message.content}}</div>
                        </li>
                        <li class="clearfix" *ngIf="message.user.userId != currentUser.userId">
                            <div class="message-data">
                                
                            </div>
                            <div class="message my-message">{{message.content}}</div>                                    
                        </li>                               
                    </ul>
                    <br>
                    <br>
                    <br>
                    <br>
                    <div class="chat-message clearfix">

                        <form [formGroup]="chatForm" (ngSubmit)="sendMessage(messages[0].chatbox)">
                            <input type="text" class="form-control" placeholder="Enter text here..." formControlName="input">
                            <input type="submit" value="Send" class="btn btn-primary btn-lg" style="width: 20%; margin: auto;">
                        </form>
                          
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</div>
</div>
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          ...
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>

  